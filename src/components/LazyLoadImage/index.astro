---
import './styles.css';

export interface ImageProps {
  className?: string;
  imageAlt?: string;
  imageUrl: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
  imageWidth: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
}

const { imageAlt, imageUrl, imageWidth, className } = Astro.props as ImageProps;
---

<picture class={`${className}`}>
  {
    imageUrl.tablet && (
      <source
        media="(min-width: 768px)"
        srcset={imageUrl.tablet}
        width={imageWidth.tablet}
        height="100%"
        loading="lazy"
      />
    )
  }
  {
    imageUrl.desktop && (
      <source
        media="(min-width: 1200px)"
        srcset={imageUrl.desktop}
        width={imageWidth.desktop}
        height="100%"
        loading="lazy"
      />
    )
  }
  <img
    src={imageUrl.mobile}
    alt={imageAlt}
    width={imageWidth.mobile}
    height="100%"
    loading="lazy"
  />
</picture>
