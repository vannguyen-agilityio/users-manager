---
import './styles.css';

export interface ImageProps {
  className?: string;
  imageAlt?: string;
  imageUrl: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
  imageWidth: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
  imageHeight: {
    mobile?: string;
    tablet?: string;
    desktop?: string;
  };
}

const { imageAlt, imageUrl, imageWidth, imageHeight, className } =
  Astro.props as ImageProps;
---

<picture class={`${className}`}>
  {
    imageUrl.desktop && (
      <source
        media="(min-width: 1200px)"
        srcset={imageUrl.desktop}
        width={imageWidth.desktop}
        height={imageHeight.desktop}
        height={imageHeight.desktop ? imageHeight.desktop : '100%'}
      />
    )
  }
  {
    imageUrl.tablet && (
      <source
        media="(min-width: 768px)"
        srcset={imageUrl.tablet}
        width={imageWidth.tablet}
        height={imageHeight.tablet ? imageHeight.tablet : '100%'}
      />
    )
  }
  <img
    src={imageUrl.mobile}
    alt={imageAlt}
    width={imageWidth.mobile}
    height={imageHeight.mobile ? imageHeight.mobile : '100%'}
    loading="lazy"
  />
</picture>
